@model ECommerce.ViewModel.ProductViewModel

@{
	ViewData["Title"] = "CreateProduct";
	var d = new List<string>();
}

<h1>CreateProduct</h1>
<hr />
<div class="row">
	<div class="col-md-4">
		<form enctype="multipart/form-data" asp-action="CreateProduct">
			<div asp-validation-summary="ModelOnly" class="text-danger"></div>
			<div class="form-group">
				<label asp-for="Name" class="control-label"></label>
				<input asp-for="Name" class="form-control" />
				<span asp-validation-for="Name" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label asp-for="Description" class="control-label"></label>
				<input asp-for="Description" class="form-control" />
				<span asp-validation-for="Description" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label asp-for="Price" class="control-label"></label>
				<input asp-for="Price" class="form-control" />
				<span asp-validation-for="Price" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label asp-for="Quantity" class="control-label"></label>
				<input asp-for="Quantity" class="form-control" />
				<span asp-validation-for="Quantity" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label class="control-label">Category </label>
				<select asp-for="IdCategory" class="form-control" asp-items="ViewBag.categories">
					<option>--categoris--</option>
				</select>
			</div>
			<div class="form-group">
				<label class="control-label">Brand </label>
				<select asp-for="IdBrand" class="form-control" asp-items="ViewBag.brands">
					<option>--brands--</option>
				</select>
			</div>
			<div class="form-group">
				<label class="control-label">Type </label>
				<select asp-for="IdType" class="form-control" asp-items="ViewBag.types">
					<option>--types--</option>
				</select>
			</div>
			<div class="form-group">
				<label class="control-label">add colors</label>
				<input id="product-color" class="form-control" />
				<span class="text-danger"></span>
				<button onclick="addcolor()" id="add-product-color" class="btn btn-primary" type="button">add color</button>
			</div>
			<div class="form-group">
				<label class="control-label">add colors</label>
				<input id="product-color" class="form-control" />
				<span class="text-danger"></span>
				<button onclick="addcolor()" id="add-product-color" class="btn btn-primary" type="button">add color</button>
			</div>
			<div class="form-group">
				<label class="control-label">add colors</label>
				<input id="product-color" class="form-control" />
				<span class="text-danger"></span>
				<button onclick="addcolor()" id="add-product-color" class="btn btn-primary" type="button">add color</button>
			</div>
			<div class="form-group">
				<label asp-for="ImageFile" class="control-label"></label>
				<div class="custom-file">
					<input asp-for="ImageFile" class="custom-file-input" id="productImage"
						   onchange="document.getElementById('FrontImage').src= window.URL.createObjectURL(this.files[0])" />
					<label class="custom-file-label" for="productImage">Choose file</label>
				</div>
				<span asp-validation-for="ImageFile" class="text-danger"></span>
				<img id="FrontImage" src="" alt="Product Image" width="150" height="150" style="border:1px;margin-top:20px;margin-left:120px;" />
			</div>
			@*<div class="form-group">
			<label asp-for="IdBrand" class="control-label"></label>
			<input asp-for="IdBrand" class="form-control" />
			<span asp-validation-for="IdBrand" class="text-danger"></span>
			</div>
			<div class="form-group">
			<label asp-for="IdType" class="control-label"></label>
			<input asp-for="IdType" class="form-control" />
			<span asp-validation-for="IdType" class="text-danger"></span>
			</div>
			<div class="form-group" hidden="hidden">
			<label asp-for="IdCategory" class="control-label"></label>
			<input asp-for="IdCategory" class="form-control" />
			<span asp-validation-for="IdCategory" class="text-danger"></span>
			</div>*@
			<div class="form-group">
				<input type="submit" value="Create" class="btn btn-primary" />
			</div>
		</form>
	</div>
</div>

<div>
	<a asp-action="Index">Back to List</a>
</div>

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
	}
	<script type="text/javascript">
		$(".custom-file-input").on("change", function() {
			var fileName = $(this).val().split("\\").pop();
			console.log(fileName);
			$(this).siblings(".custom-file-label").addClass("selected").html(fileName);
		});
			function add() {
				var colorname;
				colorname = String(document.getElementById("first").value);
                //d.Add("");
                //Model.Colors=ICollection<>;
                return colorname;
			}
	</script>
